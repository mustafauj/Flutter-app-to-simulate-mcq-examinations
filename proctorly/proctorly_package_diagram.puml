@startuml Proctorly_Package_Diagram

!theme plain
skinparam backgroundColor #FFFFFF
skinparam package {
    BackgroundColor #F8F9FA
    BorderColor #343A40
    ArrowColor #007BFF
    FontSize 12
}
skinparam note {
    BackgroundColor #FFF3CD
    BorderColor #856404
    FontSize 10
}
skinparam rectangle {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontSize 10
}

title Proctorly Application Package Diagram

!define COMPACT_PACKAGE package

' Main Application
rectangle "ProctorlyApp" #lightblue {
    [Main App]
}

' Core Business Logic Package
package "Core" #lightblue {
    [SupabaseService]
    [NetworkService]
    [CredentialsManager]
    [AuthRepository]
    [CollegeRepository]
    [TestRepository]
    [UserRepository]
    [Validators]
    [AppErrors]
}

' Data Models Package
package "Models" #lightgreen {
    [User]
    [College]
    [Test]
    [Question]
    [TestResult]
    [UserRole]
    [TestStatus]
    [QuestionType]
    [AuthResult]
    [AppNotification]
}

' State Management Package
package "Providers" #yellow {
    [AuthProvider]
    [ThemeProvider]
    [LanguageProvider]
    [CollegeProvider]
    [TestProvider]
    [UserProvider]
    [NotificationProvider]
}

' User Interface Package
package "Screens" #orange {
    [CommonLoginScreen]
    [SignupScreen]
    [SuperAdminScreens]
    [CollegeAdminScreens]
    [TeacherScreens]
    [StudentScreens]
    [TestCreationScreen]
    [TestTakingScreen]
    [NotificationsScreen]
    [ProfileScreen]
}

' Utilities Package
package "Utils" #gray {
    [AppConstants]
    [AppStrings]
    [AppIcons]
    [ResponsiveWidget]
    [ResponsiveLayout]
    [ResponsiveText]
}

' External Dependencies
package "External" #lightcoral {
    [Flutter]
    [Material]
    [Provider]
    [Supabase]
    [HTTP]
    [SharedPreferences]
    [ImagePicker]
    [Notifications]
}

' Main Application Dependencies
"ProctorlyApp" --> "Core"
"ProctorlyApp" --> "Models"
"ProctorlyApp" --> "Providers"
"ProctorlyApp" --> "Screens"
"ProctorlyApp" --> "Utils"

' Package Dependencies
"Core" --> "Models"
"Core" --> "External"
"Providers" --> "Core"
"Providers" --> "Models"
"Screens" --> "Providers"
"Screens" --> "Models"
"Screens" --> "Utils"
"Utils" --> "External"

' Package Descriptions
note right of "Core" : **Business Logic**\nServices, Repositories,\nValidation, Network

note right of "Models" : **Data Models**\nEntities, Enums,\nAPI Responses

note right of "Providers" : **State Management**\nAuth, Business Data,\nReactive UI

note right of "Screens" : **UI Layer**\nRole-based Screens,\nAuthentication, Shared

note right of "Utils" : **Utilities**\nConstants, Responsive,\nHelper Functions

note right of "External" : **Dependencies**\nFlutter, Supabase,\nPlugins

@enduml
